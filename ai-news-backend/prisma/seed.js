const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function main() {
    console.log('ðŸŒ± Seeding database...');

    // ê¸°ì¡´ ë°ì´í„° ì‚­ì œ (ìˆœì„œ ì¤‘ìš”: ìžì‹ -> ë¶€ëª¨)
    // 1. ê´€ê³„ í…Œì´ë¸” ì‚­ì œ
    await prisma.newsTerm.deleteMany({});
    // 2. ë‰´ìŠ¤ ë° ìš©ì–´ ì‚­ì œ
    await prisma.news.deleteMany({});
    await prisma.term.deleteMany({});

    // ìƒ˜í”Œ ë‰´ìŠ¤ 1 ìƒì„± (ê´€ê³„í˜• ë°ì´í„° ì‚½ìž…)
    const news1 = await prisma.news.create({
        data: {
            title: "ë¯¸êµ­ ì—°ë°©ì¤€ë¹„ì œë„ê°€ ê¸°ì¤€ê¸ˆë¦¬ 0.25% ì¸í•˜",
            url: "https://example.com/news/fed-rate-cut-2025-12",
            date: new Date("2025-12-08"),
            summary: "ë¯¸êµ­ ì—°ë°©ì¤€ë¹„ì œë„(Fed)ê°€ 12ì›” ì •ì±…ìœ„ì›íšŒì—ì„œ ê¸°ì¤€ê¸ˆë¦¬ë¥¼ ê¸°ì¡´ë³´ë‹¤ 0.25%p ë‚®ì¶˜ 4.25~4.50%ë¡œ ê²°ì •í–ˆì–´ìš”. ìµœê·¼ ë¬¼ê°€ê°€ ì–´ëŠ ì •ë„ ìž¡í˜”ë‹¤ê³  íŒë‹¨í–ˆê¸° ë•Œë¬¸ì¸ë°ìš”. ì´ë²ˆ ê¸ˆë¦¬ ì¸í•˜ë¡œ ì¸í•´ ëŒ€ì¶œ ì´ìžê°€ ì¤„ì–´ë“¤ ê°€ëŠ¥ì„±ì´ ì»¤ì¡Œì§€ë§Œ, ê²½ê¸° ì¹¨ì²´ë¥¼ ìš°ë ¤í•˜ëŠ” ëª©ì†Œë¦¬ë„ í•¨ê»˜ ë‚˜ì˜¤ê³  ìžˆìŠµë‹ˆë‹¤. ì—°ì¤€ ì˜ìž¥ì€ ì•žìœ¼ë¡œ ê²½ì œ ìƒí™©ì„ ë³´ë©° ì¶”ê°€ ì¸í•˜ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ê² ë‹¤ê³  ë°í˜”ìŠµë‹ˆë‹¤.",
            keyMetrics: "ê¸°ì¤€ê¸ˆë¦¬ 0.25%p ì¸í•˜, S&P 500 +1.5%, ë‹¬ëŸ¬ ì•½ì„¸",
            sourceUrl: "https://example.com/news/fed-rate-cut-2025-12",
            terms: {
                create: [
                    {
                        term: {
                            create: {
                                name: "ê¸°ì¤€ê¸ˆë¦¬(Base Rate)",
                                definition: "ì¤‘ì•™ì€í–‰ì´ ì •í•˜ëŠ” ê¸ˆë¦¬ ì²´ê³„ì˜ ê¸°ì¤€ì´ ë˜ëŠ” ê¸ˆë¦¬.",
                                explanation: "ì€í–‰ì˜ ëŒ€ìž¥ì¸ ì¤‘ì•™ì€í–‰ì´ ì •í•˜ëŠ” 'ëˆì˜ ê¸°ë³¸ ê°€ê²©'ì´ì—ìš”. ì´ê²Œ ë‚´ë ¤ê°€ë©´ ìš°ë¦¬ê°€ ì€í–‰ì—ì„œ ëˆì„ ë¹Œë¦´ ë•Œ ì´ìžë„ ì‹¸ì§ˆ ìˆ˜ ìžˆì–´ìš”."
                            }
                        }
                    },
                    {
                        term: {
                            create: {
                                name: "ì¸í”Œë ˆì´ì…˜(Inflation)",
                                definition: "ë¬¼ê°€ ìˆ˜ì¤€ì´ ì§€ì†ì ìœ¼ë¡œ ìƒìŠ¹í•˜ëŠ” í˜„ìƒ.",
                                explanation: "ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë¬¼ê±´ ê°€ê²©ì´ ê³„ì† ì˜¤ë¥´ëŠ” ê²ƒì„ ë§í•´ìš”. ì˜ˆë¥¼ ë“¤ì–´ ìž‘ë…„ì— 1000ì› í•˜ë˜ ì•„ì´ìŠ¤í¬ë¦¼ì´ ì˜¬í•´ 1200ì›ì´ ë˜ë©´ ì¸í”Œë ˆì´ì…˜ì´ ë°œìƒí•œ ê±°ì˜ˆìš”."
                            }
                        }
                    }
                ]
            }
        },
    });

    const news2 = await prisma.news.create({
        data: {
            title: "ì‚¼ì„±ì „ìž 3ë¶„ê¸° ì˜ì—…ì´ìµ 22ì¡° ì›ëŒ€ ê¸°ëŒ€",
            url: "https://example.com/news/samsung-earnings-2025-q3",
            date: new Date("2025-12-07"),
            summary: "ì‚¼ì„±ì „ìžê°€ ì˜¬í•´ 3ë¶„ê¸°ì— ë¬´ë ¤ 22ì¡° ì›ì´ ë„˜ëŠ” ì˜ì—…ì´ìµì„ ë‚¼ ê²ƒìœ¼ë¡œ ê¸°ëŒ€ë˜ê³  ìžˆì–´ìš”. ì´ëŠ” ìž‘ë…„ ê°™ì€ ê¸°ê°„ë³´ë‹¤ 30% ì´ìƒ ëŠ˜ì–´ë‚œ ìˆ˜ì¹˜ë¡œ, ì£¼ë¡œ ì¸ê³µì§€ëŠ¥(AI)ì— ë“¤ì–´ê°€ëŠ” ê³ ì„±ëŠ¥ ë°˜ë„ì²´ê°€ ì•„ì£¼ ìž˜ íŒ”ë ¸ê¸° ë•Œë¬¸ì´ë¼ê³  í•´ìš”. ì „ë¬¸ê°€ë“¤ì€ ì‚¼ì„±ì „ìžê°€ ì•žìœ¼ë¡œë„ ë°˜ë„ì²´ ì‹œìž¥ì—ì„œ ê³„ì†í•´ì„œ í° ëˆì„ ë²Œì–´ë“¤ì¼ ê²ƒì´ë¼ê³  ê¸ì •ì ìœ¼ë¡œ ì „ë§í•˜ê³  ìžˆìŠµë‹ˆë‹¤.",
            keyMetrics: "ì˜ì—…ì´ìµ 22ì¡° ì›, ë°˜ë„ì²´ ë§¤ì¶œ +30%, AI ì¹© ìˆ˜ìš” 250% ì¦ê°€",
            sourceUrl: "https://example.com/news/samsung-earnings-2025-q3",
            terms: {
                create: [
                    {
                        term: {
                            create: {
                                name: "ì˜ì—…ì´ìµ(Operating Profit)",
                                definition: "ê¸°ì—…ì´ ì£¼ëœ ì‚¬ì—… í™œë™ì„ í†µí•´ ë²Œì–´ë“¤ì¸ ì´ìµ.",
                                explanation: "íšŒì‚¬ê°€ ì¹˜í‚¨ì§‘ì´ë¼ë©´, ì¹˜í‚¨ì„ íŒ”ì•„ì„œ ë²ˆ ëˆì—ì„œ ë‹­ê°’, ê¸°ë¦„ê°’, ì›”ì„¸ ê°™ì€ ë¹„ìš©ì„ ë‹¤ ë¹¼ê³  ìˆœìˆ˜í•˜ê²Œ ë‚¨ì€ 'ìž¥ì‚¬ ë§ˆì§„'ì„ ë§í•´ìš”."
                            }
                        }
                    },
                    {
                        term: {
                            create: {
                                name: "ë°˜ë„ì²´(Semiconductor)",
                                definition: "ë„ì²´ì™€ ë¶€ë„ì²´ì˜ ì¤‘ê°„ ì„±ì§ˆì„ ê°€ì§„ ë¬¼ì§ˆë¡œ, ì „ìž ì œí’ˆì˜ í•µì‹¬ ë¶€í’ˆ.",
                                explanation: "ìŠ¤ë§ˆíŠ¸í°ì´ë‚˜ ì»´í“¨í„°ê°€ ìƒê°í•˜ê³  ìž‘ë™í•˜ê²Œ ë§Œë“œëŠ” 'ì „ìž ë‘ë‡Œ'ë¼ê³  ë³´ë©´ ë¼ìš”. ì´ê²Œ ì—†ìœ¼ë©´ ì „ìžì œí’ˆì€ ê·¸ëƒ¥ ê¹¡í†µì´ ë©ë‹ˆë‹¤."
                            }
                        }
                    }
                ]
            }
        },
    });

    const news3 = await prisma.news.create({
        data: {
            title: "í•œêµ­ 4ë¶„ê¸° GDP ì„±ìž¥ë¥  ì „ë§ ìƒí–¥",
            url: "https://example.com/news/korea-gdp-forecast-2025",
            date: new Date("2025-12-06"),
            summary: "í•œêµ­ì€í–‰ì´ ì˜¬í•´ 4ë¶„ê¸° ìš°ë¦¬ë‚˜ë¼ ê²½ì œê°€ ì–¼ë§ˆë‚˜ ì„±ìž¥í• ì§€ ë³´ì—¬ì£¼ëŠ” GDP ì„±ìž¥ë¥  ì „ë§ì¹˜ë¥¼ 2.5%ë¡œ ë†’ì—¬ ìž¡ì•˜ì–´ìš”. ìžë™ì°¨ì™€ ë°˜ë„ì²´ ìˆ˜ì¶œì´ ìƒê°ë³´ë‹¤ í›¨ì”¬ ìž˜ ë˜ê³  ìžˆê³ , ì •ë¶€ì—ì„œë„ ëˆì„ í’€ì–´ íˆ¬ìžë¥¼ ëŠ˜ë¦¬ê³  ìžˆê¸° ë•Œë¬¸ì¸ë°ìš”. ì´ëŒ€ë¡œë¼ë©´ ë‚´ë…„ ê²½ì œë„ ì˜ˆìƒë³´ë‹¤ í›¨ì”¬ íŠ¼íŠ¼í•˜ê²Œ ì„±ìž¥í•  ìˆ˜ ìžˆì„ ê²ƒì´ë¼ëŠ” í¬ë§ì ì¸ ë¶„ì„ì´ ë‚˜ì˜¤ê³  ìžˆìŠµë‹ˆë‹¤.",
            keyMetrics: "GDP ì„±ìž¥ë¥  2.5%, ìˆ˜ì¶œ +5%, ì •ë¶€ íˆ¬ìž í™•ëŒ€",
            sourceUrl: "https://example.com/news/korea-gdp-forecast-2025",
            terms: {
                create: [
                    {
                        term: {
                            create: {
                                name: "GDP(êµ­ë‚´ì´ìƒì‚°)",
                                definition: "ì¼ì • ê¸°ê°„ ë™ì•ˆ í•œ ë‚˜ë¼ ì•ˆì—ì„œ ìƒì‚°ëœ ëª¨ë“  ìž¬í™”ì™€ ì„œë¹„ìŠ¤ì˜ ì‹œìž¥ ê°€ì¹˜ í•©ê³„.",
                                explanation: "ìš°ë¦¬ë‚˜ë¼ ë•… ì•ˆì—ì„œ ì–´ë¥¸, ì•„ì´, ì™¸êµ­ì¸ í•  ê²ƒ ì—†ì´ ëª¨ë‘ê°€ ì—´ì‹¬ížˆ ì¼í•´ì„œ ë§Œë“¤ì–´ë‚¸ 'ì „ì²´ ì„±ì í‘œ' ê°™ì€ ê±°ì˜ˆìš”. ì´ê²Œ ì˜¤ë¥´ë©´ ë‚˜ë¼ê°€ ë¶€ìžê°€ ë˜ê³  ìžˆëŠ” ê±°ì£ ."
                            }
                        }
                    }
                ]
            }
        },
    });

    console.log('âœ… ìƒ˜í”Œ ë°ì´í„° ì‚½ìž… ì™„ë£Œ');
    console.log('ðŸ“° ìƒì„±ëœ ë‰´ìŠ¤:');
    console.log(`   1. ${news1.title}`);
    console.log(`   2. ${news2.title}`);
    console.log(`   3. ${news3.title}`);
}

main()
    .catch((e) => {
        console.error('âŒ Seed ì‹¤íŒ¨ (ìƒì„¸):');
        console.error(e);
        console.error('Message:', e.message);
        console.error('Code:', e.code);
        console.error('Meta:', e.meta);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
